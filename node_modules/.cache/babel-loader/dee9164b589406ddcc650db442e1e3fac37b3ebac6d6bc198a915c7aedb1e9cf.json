{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/eva/Desktop/2023_project/git/what-does-Shu-say-develop2/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/eva/Desktop/2023_project/git/what-does-Shu-say-develop2/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/eva/Desktop/2023_project/git/what-does-Shu-say-develop2/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect,useRef}from'react';import{Modal,Button}from'react-bootstrap';import'./App.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function ScrollableModal(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),show=_useState2[0],setShow=_useState2[1];var _useState3=useState([2]),_useState4=_slicedToArray(_useState3,2),getVoiceNo=_useState4[0],setGetVoiceNo=_useState4[1];var _useState5=useState(Array.from({length:30},function(_,i){return i+1;})),_useState6=_slicedToArray(_useState5,1),allVoiceNo=_useState6[0];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),csvdata=_useState8[0],setCsvdata=_useState8[1];var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),voice_id2=_useState10[0],setVoiceId2=_useState10[1];// const [voice_test, setVoiceIdtest ] = useState();\nvar prevVoiceIdRef=useRef();useEffect(function(){function fetchData(){return _fetchData.apply(this,arguments);}function _fetchData(){_fetchData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"./collect_form_no.txt\").then(function(response){return response.text();}).then(function(data){return setCsvdata(JSON.parse(data));});case 2:case\"end\":return _context.stop();}},_callee);}));return _fetchData.apply(this,arguments);}fetchData();},[]);useEffect(function(){if(typeof props.voice_id!==\"undefined\"){if(props.voice_id!==prevVoiceIdRef.current){setVoiceId2(props.voice_id);prevVoiceIdRef.current=props.voice_id;}}},[props.voice_id]);useEffect(function(){setShow(props.show);},[props.show]);var handleClose=function handleClose(){setShow(false);props.onHide();};// 解決非同步資料還沒抓到無法渲染問題\nif(!csvdata){return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});}else{return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(Modal,{show:show,onHide:handleClose,scrollable:true,id:\"scroll\",children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{style:{color:'#bc4ad9'},children:/*#__PURE__*/_jsx(\"b\",{children:\"lez see how many Shu u've got\"})})}),/*#__PURE__*/_jsx(Modal.Body,{id:\"scrollcontent\",children:/*#__PURE__*/_jsx(\"div\",{id:\"scrollitem\",style:{height:'300px',width:'620px',overflowY:'auto',padding:'0px 70px 30px 70px'},children:allVoiceNo.map(function(i){if(Array.isArray(voice_id2)&&voice_id2.includes(i)){return/*#__PURE__*/_jsxs(\"div\",{class:\"lockicon\",children:[/*#__PURE__*/_jsx(\"img\",{src:'./image/collect/'+csvdata[i-1].unlock_img+'.png',width:70,alt:'img_'+{i:i}}),/*#__PURE__*/_jsxs(\"div\",{className:\"icon-desc\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"./image/youtube.png\",width:20,alt:\"youtubeicon\"}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"a\",{href:csvdata[i-1].stream_link,target:\"_blank\",rel:\"noopener noreferrer\",children:csvdata[i-1].voice_name})]})]},i);}else{if([1,2,3,4,5,6].includes(i)){//sp改成不同顏色\nreturn/*#__PURE__*/_jsx(\"div\",{class:\"lockicon\",children:/*#__PURE__*/_jsx(\"img\",{src:\"./image/lock_sp.png\",width:60,alt:\"lockicon\"})},i);}else{return/*#__PURE__*/_jsx(\"div\",{class:\"lockicon\",children:/*#__PURE__*/_jsx(\"img\",{src:\"./image/lock.png\",width:60,alt:\"lockicon\"})},i);}}})})}),/*#__PURE__*/_jsx(Modal.Footer,{children:/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:handleClose,children:/*#__PURE__*/_jsx(\"img\",{src:\"./image/button_onoff1.png\",width:60,alt:\"popoff\",id:\"popoff\"})})})]})});}}export default ScrollableModal;","map":{"version":3,"names":["React","useState","useEffect","useRef","Modal","Button","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ScrollableModal","props","_useState","_useState2","_slicedToArray","show","setShow","_useState3","_useState4","getVoiceNo","setGetVoiceNo","_useState5","Array","from","length","_","i","_useState6","allVoiceNo","_useState7","_useState8","csvdata","setCsvdata","_useState9","_useState10","voice_id2","setVoiceId2","prevVoiceIdRef","fetchData","_fetchData","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","fetch","then","response","text","data","JSON","parse","stop","voice_id","current","handleClose","onHide","children","scrollable","id","Header","closeButton","Title","style","color","Body","height","width","overflowY","padding","map","isArray","includes","class","src","unlock_img","alt","className","href","stream_link","target","rel","voice_name","Footer","variant","onClick"],"sources":["C:/Users/eva/Desktop/2023_project/git/what-does-Shu-say-develop2/src/scroll.js"],"sourcesContent":["import React, { useState,useEffect,useRef } from 'react';\nimport { Modal, Button } from 'react-bootstrap';\nimport './App.css';\n\n\nfunction ScrollableModal(props) {\n    const [show, setShow] = useState(false);\n    const [getVoiceNo,setGetVoiceNo] = useState([2])\n    const [allVoiceNo] = useState(Array.from({length: 30}, (_, i) => i+1))\n    const [csvdata,setCsvdata] = useState(null)\n    const [voice_id2, setVoiceId2 ] = useState(null);\n    // const [voice_test, setVoiceIdtest ] = useState();\n    const prevVoiceIdRef = useRef();\n\n\n    useEffect(() => {\n        async function fetchData() {\n            await fetch(\"./collect_form_no.txt\")\n            .then((response) => response.text())\n            .then(data => setCsvdata(JSON.parse(data)))\n        }\n        fetchData();\n      }, []);\n\n\n\n    useEffect(() => {\n        if(typeof(props.voice_id)!==\"undefined\"){\n            if (props.voice_id !== prevVoiceIdRef.current) {\n                setVoiceId2(props.voice_id);\n                prevVoiceIdRef.current = props.voice_id;\n            }\n        }\n      }, [props.voice_id]);\n\n    useEffect(() => {\n        setShow(props.show);\n      }, [props.show]);\n\n    const handleClose = () => {\n        setShow(false);\n        props.onHide();\n    }\n\n    \n    // 解決非同步資料還沒抓到無法渲染問題\n    if (!csvdata) {\n        return <div>Loading...</div>;\n    }else{\n        return (\n        <>\n            <Modal show={show} onHide={handleClose} scrollable id='scroll'>\n                <Modal.Header closeButton>\n                    <Modal.Title style={{ color:'#bc4ad9'}}><b>lez see how many Shu u've got</b></Modal.Title>\n                </Modal.Header>\n                <Modal.Body id='scrollcontent'>\n                    <div id='scrollitem' style={{ height: '300px',width: '620px', overflowY: 'auto',  padding: '0px 70px 30px 70px' }}>\n                \n\n                    {/*集點功能判斷式getVoiceNo*/}\n                    {allVoiceNo.map(i=>{\n                    if(Array.isArray(voice_id2) && voice_id2.includes(i)){\n                        return(\n                            <div class='lockicon' key={i}>\n                                <img src={'./image/collect/'+csvdata[i-1].unlock_img+'.png'} width={70} alt={'img_'+{i}} />\n                                <div className=\"icon-desc\">\n                                <img src='./image/youtube.png' width={20} alt='youtubeicon' /> <br/>\n                                <a href={csvdata[i-1].stream_link} target=\"_blank\" rel=\"noopener noreferrer\">{csvdata[i-1].voice_name}</a></div>\n                            </div>\n                        )\n                    }else{\n                        if([1,2,3,4,5,6].includes(i)){ //sp改成不同顏色\n                            return(\n                                <div class='lockicon' key={i}>\n                                    <img src='./image/lock_sp.png' width={60} alt='lockicon' />\n                                </div>\n                                )\n                        }else{\n                            return(\n                                <div class='lockicon' key={i}>\n                                    <img src='./image/lock.png' width={60} alt='lockicon' />\n                                </div>\n                                )\n                        }\n                    }})}\n\n                        \n                    </div>\n                </Modal.Body>\n                <Modal.Footer>\n                    <Button variant=\"secondary\" onClick={handleClose}>\n                        <img src='./image/button_onoff1.png' width={60} alt='popoff' id='popoff' />\n                    </Button>\n                </Modal.Footer>\n            </Modal>\n \n        </>\n        );\n    }\n}\n\nexport default ScrollableModal;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}